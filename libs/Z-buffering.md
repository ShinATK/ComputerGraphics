#cg #games101

# What is Z-buffering?

深度缓冲，是在三维图形中处理图像的深度信息，解决可见性问题的一种方法。

# Why need Z-buffering?

当场景中有多个物体相互遮挡时，就需要记录这些物体的深度信息，从而决定哪些物体能够显示，哪些物体会被遮挡住。

# How to implement Z-buffering?

- 将每一个所生成的[像素](https://zh.wikipedia.org/wiki/%E5%83%8F%E7%B4%A0 "像素")的深度（即z坐标）保存在一个缓冲区中。这个缓冲区叫作**z缓冲区**或者**深度缓冲区**，这个缓冲区通常组织成一个保存每个屏幕像素深度的x-y二维数组。
- 如果场景中的另外一个物体也在同一个像素生成渲染结果，那么图形处理卡就会比较二者的深度，并且保留距离观察者较近的物体
- 然后这个所保留的物体点深度保存到深度缓冲区中。最后，图形卡就可以根据深度缓冲区正确地生成通常的深度感知效果：较近的物体遮挡较远的物体。这个过程叫作**z消隐**。

- Frame buffer 存储颜色values
- Depth buffer/z-buffer 存储深度信息


